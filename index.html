<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Custom Extension</title>`

        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <!-- moment.js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js"></script>
        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" >
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" ></script>
        <!-- Tableau Extensions API Library  -->
        <script src="./lib/tableau.extensions.1.latest.js"></script>
        <!-- Custom JS code that uses the Extensions API -->
        <script src="./nc_date_updater.js"></script>

    </head>
    <body style="float: left;">
        <a data-toggle="collapse" href=".collapse" aria-expanded="false" aria-controls=".collapse">Show/Hide Description</a>
        <div class="container">
            <div class="collapse">
                <div>
                    <p>Use a <a href="https://momentjs.com/docs/" target="_blank">moment.js</a> expression to specifiy the date format. Specify a default value for the date parameters.</p>
                </div>
                <div>
                    <table>
                        <tbody>
                            <tr>
                                <td style="padding:0 15px 0 15px;">()</td>
                                <td style="padding:0 15px 0 15px;">Current date</td>
                            </tr>
                            <tr>
                                <td style="padding:0 15px 0 15px;">().subtract(7, 'days')</td>
                                <td style="padding:0 15px 0 15px;">7 days ago (use .add for future dates)</td>
                            </tr>
                            <tr>
                                <td style="padding:0 15px 0 15px;">().startOf('isoweek')</td>
                                <td style="padding:0 15px 0 15px;">Monday is the first day of current week</td>
                            </tr>
                            <tr>
                                <td style="padding:0 15px 0 15px;">().startOf('month')</td>
                                <td style="padding:0 15px 0 15px;">First day of current month (use .endOf for last day)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div id="parameters">
                <div class="table-responsive">
                    <table id="loading" class="table">
                        <tbody><tr><td>Loading...</td></tr></tbody>
                    </table>
                    <table id="parameterTable" class="table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <!-- <th>Data Type</th>
                                <th>Current Value</th> -->
                                <th>Custom Value</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Stuff will be inserted here -->
                        </tbody>
                    </table>
                    <table id="addParameterWarning" class="table bg-danger hidden">
                        <tbody><tr><td>To use this extension, add a parameter to the workbook.</td></tr></tbody>
                    </table>
                </div>
            </div>
            <div>
                <button id="autoRefreshButton" class="btn btn-primary">Apply Auto-refresh</button>
            </div>
        </div>
    </body>
</html>